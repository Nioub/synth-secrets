<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en" lang="en">
  <head>
    <title>From Springs, Plates &amp; Buckets To Physical Modelling</title>
    <link rel="stylesheet" type="text/css" href="css/book.css" />
  </head>

  <body>
    <section class="chapter" title="From Springs, Plates &amp; Buckets To Physical Modelling" epub:type="chapter" id="ch022">
      <h2 class="title">From Springs, Plates &amp; Buckets To Physical Modelling</h2>

      <p>Everyone knows what happens when you place an echo unit at the end of a signal chain: you play a note and, after the original, you hear a number of repetitions, usually dying away over the course of a few seconds. Similarly, if you place a reverberator at the end of the chain, your note is extended, with added ‘ambience’ — the perception that the note is produced in a room or hall of some sort.</p>
      <p>In both these cases, you are using electronics to model acoustic spaces. In the former case, the model is that of one or two surfaces which create a handful of discrete echoes. In the latter, it’s a model of a closed space, imitating the thousands of echoes that merge into the dense phenomenon we call reverberation.</p>
      <p>If you were now to consider a collection of modern synths, you’d notice straight away that many of them incorporate electronic delay lines and reverberators immediately before their outputs, positioned there to enhance the sound produced by the sound-generating circuits (indeed, some manufacturers incorporated these effects to invigorate synths that would otherwise be dull and lifeless). But let’s ask what would happen if you could take one of these effects — the reverb — and place it somewhat earlier in the signal path.</p>
      <p>Sadly, few synthesists can try this for themselves, because the vast majority of modern synths do not allow you to reposition the effects. However, those of you lucky enough to own a full-blown modular synth can do this, as can those with the earliest integrated synths such as the VCS3 (1969) and ARP 2600 (1970).</p>
      <p>I’ve added the release dates of those synths for a reason… in the 1960s, when synthesis was in its infancy, reverb was seen as far more than simply a way to add ambience to a signal. It paved the way for realistic emulations of acoustic instruments that you cannot imitate using basic VCO-VCF-VCA architectures. The simple reverb was the key to what we now call ‘physical modelling’.</p>
      <p>To understand how it was capable of doing this, we’ll need to discuss what happens to a sound within a reverberant space, or — for that matter — within an analogue effects unit designed to emulate such a space. So let’s start by revisiting what we already know about delays and reverb…</p>

      <h3>From Delays…</h3>
      <p>Delays occur when sound reflects off solid objects. This phenomenon means that, in most circumstances, any sound produced by a point source will reach your ears from multiple directions (see <a href="#fig-22-1">Figure 22.1</a>).</p>
      <figure id="fig-22-1">
        <img src="images/fig-22-1.png" />
        <figcaption>Figure 22.1</figcaption>
      </figure>
      <p>If we think of this in terms of synthesizer modules, we can construct a patch (see <a href="#fig-22-2">Figure 22.2</a>) that attempts to recreate the acoustic environment shown.</p>
      <figure id="fig-22-2">
        <img src="images/fig-22-2.png" />
        <figcaption>Figure 22.2</figcaption>
      </figure>
      <p>Of course, this is hugely oversimplified. For one thing, there’s no such thing as a point source — anything moving the air must have an appreciable diameter. Secondly, we’ve ignored the reality of a wall that, far from being a perfect reflector, will diffuse the reflected sound, modifying its amplitude and tone. Thirdly, air is a less-than-perfect transmitter. To confirm this, stand at the back of a soggy crowd at Reading Festival on a windy day, and listen to the way in which the sound level rises and falls as the wind gusts (been there, done that). Fourthly, the dense matter between your ears conducts sound from one ear to the other. Clearly, <a href="#fig-22-2">Figure 22.2</a> is quite inadequate, even for the oversimplified example shown in <a href="#fig-22-1">Figure 22.1</a>.</p>
      <p>More importantly, we’ve overlooked the reflections from the floor. This adds at least four further signal paths. So let’s now consider what happens when we place the sound source and listener in a closed acoustic environment such as a room… I’ve restricted <a href="#fig-22-3">Figure 22.3</a> to a handful of paths with a maximum of two reflections, but it’s already getting complicated. Imagine how complex things become when we contemplate all the possible (and, therefore, inevitable) reflections off the walls, the ceiling and the floor. Indeed, if the walls are not acoustically absorbent, there’s no reason why the sound should not bounce around hundreds or even thousands of times before it reaches your ears! Clearly, we can no longer think of this in terms of a handful of delay units…</p>
      <figure id="fig-22-3">
        <img src="images/fig-22-3.png" />
        <figcaption>Figure 22.3</figcaption>
      </figure>

      <h3>…To Reverberation</h3>
      <p>Fortunately for those who like to look into these things, it’s possible to analyse reverb by using a very short click (or ‘impulse’) to make sense of the sound reflections that occur in a closed space. If you were to do this, you’d find that there are three distinct temporal parts to the phenomenon (see <a href="#fig-22-4">Figure 22.4</a>). The first is the original click, while the second comprises the so-called ‘early reflections’. These are the first, distinct, reflected sounds you hear — that is, the ones that bounce off just one or two of the available surfaces. The early reflections are rapidly followed by the thousands of reflected clicks that comprise the third region in <a href="#fig-22-4">Figure 22.4</a>. Because the human brain is not usually capable of perceiving echoes separated by less than 30 milliseconds as distinct sounds (no matter how percussive the sound is), you hear the clicks in this third region as a composite sound — the ‘reverb’ portion of the reverbed click.</p>
      <figure id="fig-22-4">
        <img src="images/fig-22-4.png" />
        <figcaption>Figure 22.4</figcaption>
      </figure>
      <p>Because there’s always something in a room that absorbs sound, natural reverberation dies away to silence, and we use a measure called the ‘Reverberation Time’ to quantify the rate at which it does so. This was defined by a chap named Wallace Sabine who, in the late 1890s, recognised that the difference in loudness between the human voice and the quietest sound you can hear is a factor of about 1,000,000. This difference is equivalent to approximately 60dB, so Wallace called his measure ‘RT60’ (see <a href="#fig-22-5">Figure 22.5</a>).</p>
      <figure id="fig-22-5">
        <img src="images/fig-22-5.png" />
        <figcaption>Figure 22.5</figcaption>
      </figure>
      <p>Fortunately (or not, when you try to do it) a simple formula allows you to calculate the theoretical value of RT60 for any given frequency for any given room. This can be your bathroom, your local rehearsal room or church hall, or even the Royal Albert Hall. You just need to know the size and absorbing properties of every material within it! Here is the equation:</p>
      <p>In this formula:</p>
      <figure id="eq-22-1">
        <img src="images/eq-22-1.png" />
        <figcaption>Equation 22.1</figcaption>
      </figure>
      <ul>
        <li>V is the volume of the room in cubic metres;</li>
        <li>A is the area of each type of absorber;</li>
        <li>S is the absorption coefficient of each type of absorber;</li>
        <li>and (sum) means ‘the sum for all the different absorbers in the room’.</li>
      </ul>
      <h3>Room Modes</h3>
      <p>At this point, you might think that you know most of what you need to understand reverberation. OK, it’s fairly unlikely that Baroness Chumondsley-Smyth sitting in row three at the Royal Albert is going to cooperate when you ask to measure her soft absorbers, but, in principle, you’re ready to calculate RT60 for any room.</p>
      <p>Unfortunately, useful as RT60 may be, it only gives you information about the decay of the reverberation. This could be described as a ‘time-domain’ characteristic, as it tells you about how the reverb behaves over time — but to understand reverb more fully, and to see how it can be used in physical modelling, we must also consider its characteristics in the ‘frequency domain’. In other words, we must consider the frequency response of the reverberation in a room.</p>
      <p>To do this, let’s remove the source and the listener from our reverberant room, and consider the properties of the room itself. Just as a stretched string has a fundamental mode of vibration plus harmonics (see part one of this series, way back in SOS May ‘99, or look at www.soundonsound.com/sos/may99/articles/synthsec.htm on the Internet) there are frequencies at which a rectangular room with reflective walls will ‘resonate’. However, whereas a string is essentially 1-dimensional, the room is 3-dimensional, so there are many more permitted modes, governed by the little darling that is this equation:</p>
      <p>In this formula:</p>
      <figure id="eq-22-2">
        <img src="images/eq-22-2.png" />
        <figcaption>Equation 22.2</figcaption>
      </figure>
      <ul>
        <li>F is a resonant frequency;</li>
        <li>x, y, and z are the dimensions of the room in metres;</li>
        <li>c is the speed of sound in the room;</li>
        <li>and m, n and p are whole numbers.</li>
      </ul>
      <p>This may seem complex, but in principle the room actually behaves very similarly to the string. The difference deriving from the three-dimensional nature of the room (as opposed to the string, which is to all intents and purposes one-dimensional) is reflected in the three ‘squared’ terms in the equation (the equation for the string would have just one). Therefore, if we consider, say, the first 10 integers for each dimension, instead of having 10 harmonics, we obtain 1000 resonant modes!</p>
      <p>Analysis shows that the frequency response of one of the simple families of these modes (n=0, p=0, and m=1 to infinity) looks like <a href="#fig-22-6">Figure 22.6</a>, where each peak along the frequency axis corresponds to a mode. As you can see, this is similar in concept, if not exactly in shape, to the comb filter we discussed in Part 4 of this series (see SOS August ‘99, or www.soundonsound.com/sos/aug99/articles/synthsecrets.htm).</p>
      <figure id="fig-22-6">
        <img src="images/fig-22-6.png" />
        <figcaption>Figure 22.6</figcaption>
      </figure>
      <p>Fortunately, rooms — even rectangular ones with hard, reflective walls — do not act as comb filters. This is because the thousands of modes are distributed unevenly throughout the spectrum, so the overall response is far flatter than <a href="#fig-22-6">Figure 22.6</a>, with numerous smaller bumps and troughs. Nonetheless, a reverberant room has a definable frequency response.</p>
      <p>Whether you choose to consider reverb in terms of its time-domain characteristics or in the frequency domain, you are simply considering two aspects of the same phenomenon. This equivalence of a room’s reverberation characteristics and its frequency response is an illustration of what physicists often refer to as ‘time/frequency duality’. We’ll return to this point shortly…</p>
      <p>There’s just one thing to get across before we move on. It might seem as though moving the walls to change the room from rectangular to irregular would destroy room modes, but this is not the case. Sure, the modes will be distributed somewhat differently, leading to a changed frequency response, but an irregular room will, by and large, have a similar response to a regular one of the same volume. This will become an important consideration later in this article when we start to think about irregularly shaped musical instruments.</p>

      <h3>From Theory To Practice</h3>
      <p>Right, that’s enough acoustic theory — this is Synth Secrets, after all. Now let’s turn our thoughts to music, and the ways in which reverb was recreated before the advent of cheap digital effects processors.</p>
      <p>Given a large enough studio, a meaty enough power supply, and almost unlimited funds and patience, there’s no reason why you couldn’t create reverberation effects using thousands of delay modules and VCAs. But, obviously, it’s impractical, even with an RT60 of just a few fractions of a second. What we need is a cheap and simple device that will produce the innumerable ‘echoes’ that comprise reverberation. Furthermore, it must make them die away in such a fashion that a sensible value for RT60 is obtained for the perceived ‘resonant space’ suggested by the delay of the unit.</p>
      <p>The simplest way to do this is also the most impractical… you use a large, reverberant space called an ‘echo chamber’, and record your performance in this. If your sound is generated electronically rather than acoustically, you place a speaker at one end and a microphone at the other, play the ‘dry’ sound through the former, and re-record the ‘wet’ sound using the latter. In order to maximise the amount of reverb, you would not normally point the speaker at the microphone (see <a href="#fig-22-7">Figure 22.7</a>).</p>
      <figure id="fig-22-7">
        <img src="images/fig-22-7.png" />
        <figcaption>Figure 22.7</figcaption>
      </figure>
      <p>A different reverb device requires a large steel plate, a suitable suspension, a large box, and a bunch of transducers. This is the plate reverb, a device of approximately the same size and weight — and a good proportion of the cost — of a grand piano. It uses a transducer to excite the plate, and one or more pickups that detect the reverberation created as the sound bounces around, reflecting off the edges (see <a href="#fig-22-8">Figure 22.8</a>).</p>
      <figure id="fig-22-8">
        <img src="images/fig-22-8.png" />
        <figcaption>Figure 22.8</figcaption>
      </figure>
      <p>Unfortunately, neither of these mechanisms was small enough, light enough, or cheap enough to be placed within the early analogue synthesizers mentioned at the start of this article, so another device was needed. This, of course, was the spring reverb.</p>
      <p>A simplistic view of the spring reverb suggests simply that you use a transducer to excite a spring, and a pickup to extract the reverberant sound at the other end (see <a href="#fig-22-9">Figure 22.9</a>). In essence, this is true, but it is far from the whole story. Let’s consider what’s actually happening.</p>
      <figure id="fig-22-9">
        <img src="images/fig-22-9.png" />
        <figcaption>Figure 22.9</figcaption>
      </figure>
      <p>Let’s say that the transducer excites the spring with an impulse. Ignoring the short springs at either end of the device (these are just shockmounts to isolate the reverb itself from outside influences), the wave thus produced travels up the spring to the pickup in a certain time. The output is then amplified and, usually, mixed with the original signal.</p>
      <p>However, when the wave reaches the pickup, some of the energy is reflected back towards the transducer. Likewise, the depleted wave reaching the transducer is reflected back towards the pickup… and the cycle continues until all the energy is absorbed.</p>
      <p>Let’s now imagine that you are playing a 40Hz sine wave through this reverb, and that the transmission time from one end of the spring to the other is 12.5mS. The first delay reaches the pickup in 12.5mS. The reflected portion of the energy then travels back down the spring to reach the transducer 25mS after it left. However, the time taken for a sine wave of 40Hz to complete one cycle is also 25mS, so the next reflection reinforces the source. Furthermore, this happens time after time after time…</p>
      <p>In contrast, a sine wave of 60Hz will arrive back at the transducer in anti-phase. Sure, the reflected energy is less than the energy being supplied by the transducer, but the two will, to some extent, cancel out. This means that a spring reverb has a frequency response similar to that shown in <a href="#fig-22-10">Figure 22.10</a>.</p>
      <figure id="fig-22-10">
        <img src="images/fig-22-10.png" />
        <figcaption>Figure 22.10</figcaption>
      </figure>
      <p>It looks familiar, doesn’t it? It’s that old time/frequency duality again, and it’s very significant. Just as the reverberation bouncing around in a room exhibits a frequency response, so do the echoes travelling up and down a spring. So why doesn’t a spring reverb have the characteristic warmth and depth of a concert hall or an echo chamber? The reason is simple… whereas the room has thousands of such modes, the spring has just three. The first is the longitudinal ‘compression’ mode. The second is the transverse wave exhibited by a stretched string… the spring moves up and down above and below its axis. The third is torsional… the spring twists and untwists along its length. Since each of these modes has different transmission speeds, the true frequency response of the spring is slightly smoother than <a href="#fig-22-10">Figure 22.10</a> would suggest. Nevertheless, the longitudinal mode dominates. Given the figures used above, you’ll get echoes at 25mS, 75mS, 125mS… and so on, until the energy dissipates. This is very unlike true reverb, so a single spring reverb always exhibits a characteristic, metallic ‘boinggg’.</p>
      <p>Manufacturers have sought to improve on the single spring reverb by incorporating two or even three dissimilar springs in a single device. They have even gone so far as to assemble dissimilar sections into a single spring, and then use these composites to create more complex responses (see <a href="#fig-22-11">Figure 22.11</a>).</p>
      <figure id="fig-22-11">
        <img src="images/fig-22-11.png" />
        <figcaption>Figure 22.11</figcaption>
      </figure>
      <p>Well, this is all fine and dandy, but hardly groundbreaking stuff. You use something that responds somewhat like a room to imitate the sound created by a room. Logical, or what?</p>
      <p>But let’s now return to synths, and consider the synthesis of acoustic musical instruments. Consider, for example, the body of a guitar, violin, contrabass, or any other hollow-bodied instrument. Ignoring the holes, these are all resonant spaces, like rooms, but with smaller dimensions. As for the holes, they’re just like open windows: they let the sound out, but don’t greatly reduce the amount of reverberation.</p>
      <p>Now, it should be self-evident that the volume of an instrument’s body, its shape, and the materials from which it is constructed will define its reverberant characteristics. In other words, the body will exhibit reverb, have a value for RT60 and, because of that ol’ time/frequency duality, impose a frequency response upon the sound generated by whatever is exciting it. Research has shown that the vibration of a violin string at the bridge is remarkably close to being a sawtooth wave; and yet even if you ignore the years of practice required to develop an acceptable playing technique, a violin does not sound like a sawtooth wave. Clearly the body of the instrument plays a major part in shaping the sound that we recognise as that of a violin.</p>
      <p>So here comes the leap of understanding towards which all the above leads… If we can recreate some of the reverberant frequency characteristics of a room using a spring reverb, can we emulate the modes (and therefore the frequency response) of a hollow-bodied instrument in the same way?</p>

      <h3>’Real’ Synthesis</h3>
      <p>Flexible though this structure is, its low-pass filter cannot recreate the tonal quality of the modes exhibited by a reverberant space. Therefore, if you try to imitate a violin or acoustic guitar, the result is unconvincing. But let’s now move the reverb ‘inside’ the patch (see <a href="#fig-22-13">Figure 22.13</a>).</p>
      <figure id="fig-22-13">
        <img src="images/fig-22-13.png" />
        <figcaption>Figure 22.13</figcaption>
      </figure>
      <p>In this configuration, the reverb imposes its complex frequency response upon the output from the oscillator, emphasising some harmonics while suppressing others. Therefore, as you play up and down the keyboard, the characters of the individual notes change, much like those of an acoustic instrument.</p>
      <p>Unfortunately, the reverb time of our spring reverb is far too long to emulate a real instrument. While it’s not too shabby at recreating room modes, the spring would synthesize a ‘violin’ with a cavity over four metres long! Smaller springs would, for obvious reasons, produce more appropriate modes, and it is for this reason, perhaps, that early synthesists were able to use the six-inch springs in their instruments in this way. Nevertheless, we’re not quite where we need to be, which is in the delay range of about 1mS to 4mS.</p>
      <p>So now we turn to a device invented in 1969 by John Sangster at Philips, and introduced into affordable music technology in the mid-’70s: the Bucket Brigade Device. The BBD is a series of transistors connected in such a way that, if you present an analogue signal to the input, the signal comes out the other end, slightly delayed, slightly distorted but still recognisably the same signal. The name comes from the image of firemen passing buckets of water up a human line to quench a fire. Think about sampling the fluctuating voltage of an audio signal, and then passing each voltage down the line in a bucket… you get the picture.</p>
      <p>You can chain BBDs to increase their delay times, and modulate the speed at which the ‘sample buckets’ are passed from one stage to the next. This makes them ideal for analogue effects units such as choruses, phasers, and flangers. They are also ideal for use as comb filters (as you may remember from part four of this series, comb filtering results when you combine two otherwise identical signals when one is very slightly delayed with respect to the other). But when placed in circuits with audio feedback to create reverb effects, it is the BBD’s ability to produce very short delays that is important to us.</p>
      <p>This, finally, explains how we can achieve physical modelling by placing a reverb with a suitable value for RT60 within the signal-generating architecture of a synth. Far from simply adding ambience to a previously generated signal, the short delay times generated by a BBD reverb will — just like the body of a violin — superimpose frequency characteristics reminiscent of an acoustic space upon basic signals such as a sawtooth wave.</p>
      <p>Of course, with a single BBD reverb, we’re still limited to a single dimension. So let’s add another two parallel reverbs to our signal path, and mix the results before passing them to the rest of the synth. Now we’re getting somewhere… provided that the reverb times are different for each of the BBDs, we will obtain three families of modes, making the response more ‘3-dimensional’ in its effect (see <a href="#fig-22-14">Figure 22.14</a>).</p>
      <figure id="fig-22-14">
        <img src="images/fig-22-14.png" />
        <figcaption>Figure 22.14</figcaption>
      </figure>
      <p>We can now tailor each BBD to generate an approximation of the dimensions of the acoustic ‘body’ we desire (remember… an irregular space will have a similar response to a regular one of the same volume). We can even adjust RT60 (normally called the ‘reverb time’) to determine whether our ‘virtual instrument’ is made of a hard substance or a softer, more absorbent material.</p>
      <p>Unfortunately, I doubt that you’ll be able to test this with your latest digital workstation, because it’s unlikely that it will allow you to place its reverbs at the correct point within the signal chain. However, if you have a genuine modular synth that incorporates a number of BBD delays/comb filters, you’ll be able to create some remarkably authentic acoustic instrument sounds (this is also true with the more modern ‘virtual modulars’, such as the Nord Modular shown opposite, because these too offer short delay lines). Sure, you’ll have to think about the size of the instrument you want to emulate and then calculate the appropriate delay times, but that’s no big deal. In fact, you can do this with a sharpened pencil and just a little GCSE maths.</p>
      <p>To prove this, let’s take the equation on page 115 and say that we want to calculate a one-dimensional mode of an instrument with a lowest resonance at, for example, 500Hz. Given that the speed of sound is approximately 340 metres per second, we obtain the following relationship: </p>
      <figure id="eq-22-3">
        <img src="images/eq-22-3.png" />
        <figcaption>Equation 22.3</figcaption>
      </figure>
      <p>If you manipulate this a little, you’ll find that x (the dimension of the cavity) is 340/1000, which is 0.34m, or about 13 inches. Furthermore, since the speed of sound is 340 metres per second, and the sound has to travel from one end of the cavity to the other, and then back again… it follows that the delay time needed is two microseconds, exactly as we would expect for a resonance at 500Hz.</p>
      <p>So here’s this month’s Synth Secret:</p>
      <p>You don’t need powerful DSPs to dabble with physical modelling of acoustic spaces… a few analogue reverbs are more than enough.</p>
      <p>Of course, once you’ve emulated your acoustic instrument, you’ll want to place another reverb at the end of the signal chain, just to place the sound in a pleasing ambient ‘space’. Indeed, you’ll probably choose a huge, digital hall reverb algorithm with a slow early-reflections setting and an RT60 of many seconds, because acoustic instruments often sound best in ‘concert-hall’ sized spaces. It just goes to show that, as always, there’s more to this synthesis lark than you might first imagine.</p>
      <p>Finally, I’m going to leave you with a bit of a teaser… This month’s entire Synth Secrets has dealt with the duality of reverberation and the frequency responses of closed (-ish) acoustic spaces. But couldn’t we have avoided this talk of echoes, RT60s, room modes, and all that other stuff, and achieved the same result with a bunch of fixed (or ‘formant’) filters? That’s what we’ll discuss next month…</p>
    </section>
  </body>
</html>
