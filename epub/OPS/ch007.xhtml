<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="en" lang="en">
  <head>
    <title>Envelopes, Gates &amp; Triggers</title>
    <link rel="stylesheet" type="text/css" href="css/book.css" />
  </head>

  <body>
    <section class="chapter" title="Envelopes, Gates &amp; Triggers" epub:type="chapter" id="ch007">
      <h2 class="title">Envelopes, Gates &amp; Triggers</h2>

      <p>Let’s recap. In the first two parts of this series, we discussed the nature of vibrations and the waveforms of sounds. In part three, we looked at the relationship between signals, modifiers and controllers, and became familiar with the concept of an envelope generator, which helps to illustrate this point. Then, over the following three chapters, we looked at some of the many attributes of filters. You might think that, with all this under our electronic belts, we are now in a position to discuss the secrets of creating amazing synth sounds.</p>
      <p>Unfortunately, we have still got a long way to go before we have covered all the background for programming even a simple monophonic synthesizer. For example (and ignoring the relative qualities of the keyboards themselves) we haven’t explained why some synths not only sound different, but feel so different to play. So this chapter we are going to take a detailed look at Gates and Triggers. Along the way, we will discover why the two most revered monosynths of the early ‘70s — the Minimoog and the ARP Odyssey — can respond so differently when you play them. But before we can do this, we must revisit a topic first raised in part three. We are going to talk some more about envelopes.</p>
      <p>If you’ve been keeping up with this series, you probably think that you understand analogue envelope generators. After all, they’re all ADSRs, aren’t they? The Attack time determines how percussive a sound is, and the Decay determines how long the sound takes to fall to the Sustain level after the initial accent. After that, the Release controls the time it takes for the note to die away when you release the key. Simple huh? Yeah… too simple. In fact, there are many other envelope shapes, some more complex than ADSRs, some less so. Furthermore, many envelopes are themselves modified by other controls with names such as Amount and Invert. But these will have to remain matters for another instalment of this series. This chapter, we’re going to look at some unexpected ways in which the common envelopes in your synth can affect the sounds you make and the way you play.</p>

      <section class="subchapter" epub:type="subchapter" id="ch007-sc001">
        <h3>Envelopes &amp; contours</h3>

        <p>Picture a common waveform, such as a sine or square wave. These have nice, symmetrical shapes that repeat time, after time, after time… Indeed, if they didn’t repeat, you wouldn’t be able to perceive the pitch of the sound — at best you would hear a click. The common sawtooth and pulse waveforms (which can be, but are not, strictly speaking, symmetrical) also repeat in this fashion. Now, with these images in your head, consider <a href="#fig-7-1">Figure 7.1</a>, below. This shows a remarkably simple waveform that is neither symmetrical, nor repeated.</p>
        <figure id="fig-7-1">
          <img src="images/fig-7-1.png" />
          <figcaption>Figure 7.1</figcaption>
        </figure>

        <p>Now, remember what happens when we apply the output of this circuit to another part of the synthesizer such as a voltage-controlled amplifier (see <a href="#fig-7-2">Figure 7.2</a>, below). If the amplifier’s gain at any instant is proportional to the voltage shown in <a href="#fig-7-1">Figure 7.1</a>, the waveform becomes the loudness contour of the sound. If the destination is a voltage-controlled low-pass filter (a VCF) the curve shown in <a href="#fig-7-1">Figure 7.1</a> becomes the brightness contour of the sound. Clearly, the contour in <a href="#fig-7-1">Figure 7.1</a> can be used as the output from what we usually call an Envelope Generator. OK, so I covered this point in part three of this series, but it bears repeating.</p>
        <figure id="fig-7-2">
          <img src="images/fig-7-2.png" />
          <figcaption>Figure 7.2</figcaption>
        </figure>

        <p>A good definition of an envelope is this: the graph of the way a parameter changes over time is a visual representation of its envelope. But, in a typical synthesizer, you can — at any given moment — change the value of a parameter using any number of modifiers (see <a href="#fig-7-3">Figure 7.3</a>). The total envelope, therefore, may be the sum of the simultaneous actions of numerous devices. So here’s this chapter’s first Synth Secret (and it’s a biggie!):</p>
        <figure id="fig-7-3">
          <img src="images/fig-7-3.png" />
          <figcaption>Figure 7.3</figcaption>
        </figure>

        <blockquote><p>What we usually call an envelope generator may be only one contributor to the true envelope of a given parameter.</p></blockquote>
        <p>It is for this reason, perhaps, that some of the earliest synthesizer manufacturers adopted a different term for the devices that we now call Envelope Generators. They called them ‘Transient Generators’. It’s a more precise term, and the one that we will use from now on.</p>
        <p>So now we are in a position to apply some standard terminology to <a href="#fig-7-1">Figure 7.1</a>. The first stage is the Attack of the transient, and the second stage is its Decay. The figure represents, therefore, a functional ‘AD’ transient generator. Simple as these devices appear, you should not underestimate the power of AD generators. <a href="#fig-7-4">Figure 7.4</a> shows what happens when you apply two dissimilar AD contours to a single modifier such as a VCA or VCF. As you can see, the envelope generated by the summation of the two contours is a more complex 4-stage contour. Furthermore, it’s one that you cannot obtain from what is commonly called a 4-stage ADSR envelope generator. Food for thought, huh?</p>
        <figure id="fig-7-4">
          <img src="images/fig-7-4.png" />
          <figcaption>Figure 7.4</figcaption>
        </figure>
      </section>

      <section class="subchapter" epub:type="subchapter" id="ch007-sc002">
        <h3>Triggers &amp; gates</h3>

        <p><a href="#fig-7-4">Figure 7.4</a> shows what happens when you apply more than one transient to a single parameter at any given time. But that’s just one plot in this chapter’s story. There’s a second, and it’s related to what happens when we play more than one note sequentially…</p>
        <p>As you know, most analogue monosynths are controlled by keyboards. What you may not know is that many of these generate three signals every time you press a key. The first is the pitch CV; it helps to determine the pitch of the sound produced, for any given key. The second is the Trigger. This is a pulse of short duration that, at the exact moment you press a key, can trigger the actions of devices such as transient generators. The third is the Gate. Like the Trigger, the Gate’s leading edge tells other parts of the synth that you have pressed a key. However (and unlike the Trigger) the Gate remains ‘Open’ for the whole time that you depress the key. This means that it can also tell the rest of the synth the exact moment that you release the key. <a href="#fig-7-5">Figure 7.5</a> shows these signals. Knowing about Gates and Triggers lets us extend our ideas about transients considerably, and leads us to our next Synth Secret:</p>
        <figure id="fig-7-5">
          <img src="images/fig-7-5.png" />
          <figcaption>Figure 7.5</figcaption>
        </figure>

        <blockquote><p>Although a Trigger will initiate a transient generator, it’s the Gate that tells the synth to continue developing the contour until the key is released. Without a Gate, all you would hear would be a short ‘blip’ at the start of the sound, but nothing thereafter.</p></blockquote>
        <p><a href="#fig-7-6">Figure 7.6</a> shows a 3-stage transient generator that uses the timing information in the Gate signal to complete the Attack stage and then maintain the maximum voltage for the entire duration that the key is pressed. For reasons that are obvious if you studied geometry, we call this device a Trapezoid transient generator. The EMS VCS3 is one of the few synthesizers that offers a Trapezoid, and in the early ‘70s I thought that it must be a very grand device indeed because it had such a grand name. Oh well…</p>
        <figure id="fig-7-6">
          <img src="images/fig-7-6.png" />
          <figcaption>Figure 7.6</figcaption>
        </figure>

        <p>The next level of complexity is the one that everybody knows; it’s the ADSR. In the ‘70s the 4-stage ADSR contour was so standard that many players called all transient generators ‘ADSRs’, whether they were or not. Now look at <a href="#fig-7-1">Figure 7.1</a>, <a href="#fig-7-6">Figure 7.6</a>, and <a href="#fig-7-7">Figure 7.7</a> again. Each of these assumes that every transient exists in isolation, and that every contour has the time to run its course before you initiate the next. But, even on a monosynth, this simply won’t be true in the majority of cases.</p>
        <figure id="fig-7-7">
          <img src="images/fig-7-7.png" />
          <figcaption>Figure 7.7</figcaption>
        </figure>

        <p>For reasons that should be obvious, we call Triggers and Gates timing signals, and every synth needs them. But why both? Surely the Gate is performing the trigger function, and the Trigger itself is unnecessary? This is a question that dogged me for many years, until I was fortunate enough to have both a Minimoog and an ARP Odyssey sitting next to each other in my ‘live’ keyboard rig. I often used these to play a heavily contoured solo sound, with an instantaneous (Attack = 0) percussive ‘spike’ of loudness and brightness at the start of each note. This spike was, of course, created by applying a pair of contours to the VCF and VCA.</p>
        <p>Strangely, and despite the outstanding reputation of the Minimoog’s contour generators, I knew that I preferred to play my fast solos on the Odyssey, but I did not know why. All I knew was that my playing sounded punchier on the Odyssey, and that I could play at higher speeds than I could on the Minimoog. The reason for this was nothing to do with my playing (I was rubbish on both) nor was it anything to do with the relative quality of the instruments’ keyboards. The answer lay in the engineering within the instruments: the Odyssey uses triggers, while the Minimoog does not.</p>
        <p>Look at <a href="#fig-7-8">Figure 7.8</a>. This shows what happens when I play lines very quickly on an Odyssey. As you can see, the notes overlap because I can’t remove my fingers quickly enough from previous notes before playing the next. But you can also see that the contour remains dynamic, and that the start of each note is clearly defined. This is because the Odyssey re-triggers its transient generators every time I play a note, regardless of whether previous ones are released or not, and regardless of whether the Gate is Open or not. This means that my sounds are correctly articulated, no matter how unevenly I release the keys.</p>
        <figure id="fig-7-8">
          <img src="images/fig-7-8.png" />
          <figcaption>Figure 7.8</figcaption>
        </figure>

        <p>Let’s contrast this with the Minimoog, a synthesizer that does not generate triggers. Its single, unconventional timing signal is called an S-Trigger, but is, in fact, a Gate. So the same line played identically on the Minimoog produces the filter and amplitude contour shown in <a href="#fig-7-9">Figure 7.9</a>. As you can see, the envelope is far less interesting and, although you will still hear the second and successive notes at the sustain level, the punch is lost. The synth solo becomes dull and uninteresting, and the audience remains unimpressed. Indeed, the only way to recapture the dynamics and punch of the Odyssey solo would be to release each note before the next, and I have already admitted that I am not capable of that at high speed. Consequently, for average players rattling off fast solos at the limits of their abilities, the Odyssey is superior to the Minimoog (the fact that the Odyssey keyboard is duophonic and the Minimoog’s is monophonic also helps, but that’s a topic for another day).</p>
        <figure id="fig-7-9">
          <img src="images/fig-7-9.png" />
          <figcaption>Figure 7.9</figcaption>
        </figure>

        <p>At this point, it’s probably worth asking yourself what the result would be if the transient generators on the Odyssey and the Minimoog were merely ADs or trapezoids. The answers may surprise you. If the contours were ADs, the Odyssey solo would sound much the same, but the Minimoog solo would disappear to silence after the first note or two (see <a href="#fig-7-10">Figure 7.10</a> and <a href="#fig-7-11">Figure 7.11</a>).</p>
        <figure id="fig-7-10">
          <img src="images/fig-7-10.png" />
          <figcaption>Figure 7.10</figcaption>
        </figure>
        <figure id="fig-7-11">
          <img src="images/fig-7-11.png" />
          <figcaption>Figure 7.11</figcaption>
        </figure>

        <p>Strangely, if the contours were trapezoids, the two solos would sound identical, provided that the Odyssey’s contours did not reset to zero at the start of each note (see <a href="#fig-7-12">Figure 7.12</a> and <a href="#fig-7-13">Figure 7.13</a>). Hang on… what’s all this about resetting to zero? Check out <a href="#fig-7-14">Figure 7.14</a>. This shows the contour of a series of ‘reset to zero’ trapezoid transients. Some synths reset in this way, and it can lead to a very disjointed sound indeed. Because of their slower Attacks and Releases, this is particularly noticeable on some string ensembles where the single envelope generator resets every time it is initialised. Some early polysynths do this, too. It’s horrible, and sounds like the instrument is swallowing its tongue. Glump!</p>
        <figure id="fig-7-12">
          <img src="images/fig-7-12.png" />
          <figcaption>Figure 7.12</figcaption>
        </figure>
        <figure id="fig-7-13">
          <img src="images/fig-7-13.png" />
          <figcaption>Figure 7.13</figcaption>
        </figure>
        <figure id="fig-7-14">
          <img src="images/fig-7-14.png" />
          <figcaption>Figure 7.14</figcaption>
        </figure>
      </section>

      <section class="subchapter" epub:type="subchapter" id="ch007-sc003">
        <h3>Putting it together</h3>

        <p>We have covered a lot of ground this chapter, but please don’t think that we’ve done more than scratch the surface of this topic. There are many other facets to transient generators and timing signals. After all, we have only come as far as 4-stage contours, and even analogue synths can have five or more, with Hold stages and Break points amongst other extra goodies. And then there are the synths that allow you to control each stage of the contour using Control Voltages as well as the generator’s own knobs or sliders (a common use for this is to make a transient quicker at high pitches than at low ones — just as happens on acoustic instruments such as pianos and guitars). Also, there are other useful destinations for the contours. One of these is the pitch of the sound. Many instruments are slightly sharp at the start of each note, and a simple transient generator such as an AD allows you to recreate this effect. Another useful destination is the modulation speed. ‘Real’ players do not add vibrato, growl or tremolo with electronic regularity, and changing the effect by applying contours to the LFO speed and depth can be most affective (this was one of the rare facilities that made the Yamaha GX1 and CS80 so revered). And what about extending the ideas of applying two contours to a single VCO or VCF, and even delaying the trigger of one slightly with respect to the other…?</p>
        <p>Unfortunately, there’s no space this chapter to delve into these issues, so I’m going to finish this article with a little story. When you hear a sound, your brain uses just the first few milliseconds to ascertain what instrument is producing it. Roland was the first manufacturer to take advantage of this, and its (albeit digital) Linear Arithmetic Synthesis included a brilliant trick: a short sample generated the beginning of each sound, with a standard synthesized tone for the Sustain and Release stages. So, if the sample was the ‘chiff’ of a flute, it hardly mattered (within reason) what came next, the patch sounded pretty much like a flute.</p>
        <p>Of course, you can’t add samples to the sounds on an analogue synthesizer. But if your synth can recreate the initial waveform of a flute (it’s only a filtered sawtooth plus a little noise, after all), it follows that you need only use a transient generator (or two, or three…) to recreate the initial contours of the flute. Then you will be able to play a single note that sounds very much like a flute. And that’s exactly how it is.</p>
        <p>So this chapter’s final Synth Secret, and the one that explains why some Contour Generators are calibrated in milliseconds rather than just ‘0’ to ‘10’ is:</p>
        <blockquote><p>If you want to recreate acoustic sounds or program interesting synthesizer sounds deterministically (rather than rely on blind chance) then, at the very least, you must be able to analyse and create the brightness and loudness contours of the sound.</p></blockquote>
        <p>But will you be able to use your wonderful flute patch to play a complete line or phrase in a way that sounds like a flute? If you are using an Odyssey (the decidedly superior synth a few paragraphs ago) the answer is “probably not”. After all, no flautist chiffs every note individually, so permanent multi-triggering is a disadvantage. The Minimoog, on the other hand, allows you to retrigger some notes (by releasing the previous ones) and slur others (by overlapping them) much as the real flautist would do. When some people realise this — that particular synths are more suitable for certain tasks than others — they start collecting synths. In this case, the Minimoog is capable of producing a more realistic flute solo — but of course, you could always hunt down one of the rare instruments with a single/multi triggering switch, and then you would have the best of both worlds… If you start to think like this, watch out. A room full of synths is but an understanding bank manager away!</p>
      </section>
    </section>
  </body>
</html>
